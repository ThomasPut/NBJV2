<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nothing But Jazz | NBJ Records</title>

    <link rel="stylesheet" href="style.css"> 
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700;900;900&display=swap" rel="stylesheet">
</head>
<body>

    <header id="hero-section">
        <video autoplay muted loop playsinline id="background-video"> 
            <source src="MicrosoftTeams-video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

        <button class="menu-toggle" aria-controls="nav-menu" aria-expanded="false">
            <div class="icon-bar"></div>
            <div class="icon-bar"></div>
            <div class="icon-bar"></div>
        </button>
        
        <nav class="main-nav" id="nav-menu">
            <a href="#shows">SHOWS</a>
            <a href="#artists">ARTISTS</a>
            <a href="listen.html" class="listen-mobile-only">Listen Now</a>
            <a href="#about">ABOUT</a>
            <a href="#contact">CONTACT</a> 
        </nav>
        
        <div class="hero-content">
            <h1 class="nbj-title">NOTHING BUT JAZZ</h1> 
            
            <a href="listen.html" class="main-cta header-cta">LISTEN NOW</a>
        </div>
    </header>

    <main>
        <section id="shows" class="section-container">
            <h2 class="section-title">UPCOMING SHOWS</h2>
            <div class="show-list" id="monthly-shows">
                </div>
        </section>
        
        <hr class="section-divider">

        <section id="artists" class="section-container">
            <h2 class="section-title">THE ICE GONZALEZ QUINTET</h2>
            <div class="artist-content-split">
                <div class="artist-card artist-ice"> 
                    <div class="artist-name-overlay">
                        <h3>ICE GONZALEZ</h3> 
                    </div>
                </div>
            </div>
            
            <div class="artist-bio-text">
                <p>The new face of jazz, Los Angeles based trumpeter, Ice Gonzalez blends the past, present, and future. Mastery is the objective, and honoring the greats before him, while also honing the new sounds of the 21st century.</p>
            </div>
        </section>

        <hr class="section-divider"> 

        <section id="about" class="section-container">
            <div class="about-contact-grid">
                <div class="about-nbj">
                    <h2 class="section-title-left">OUR PHILOSOPHY</h2>
                    <p>Nothing But Jazz is an emerging record label and brand dedicated to promoting and perpetuating the art form of jazz. Founded in 2022, our mission is to preserve the rich heritage of jazz while supporting a new generation of emerging talent. We excel in delivering extraordinary live performances that inspire the rhythm of your soul.</p>
                </div>
                <div id="contact" class="contact-info-block">
                    <h2 class="section-title-left">CONTACT US</h2>
                    <div class="contact-detail-item">
                        <h3 class="contact-subheading">Management</h3>
                        <p class="contact-details"> 
                            **Ted Dozier** <br>
                            Phone: (323) 864-4977 <br>
                            Email: Tddlefty@gmail.com
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Â© 2025 NOTHING BUT JAZZ RECORDS. All Rights Reserved.</p>
    </footer>

    <script>
        // VIDEO AUTOPLAY FIX (Mobile)
        const video = document.getElementById('background-video');
        function attemptPlay() {
            if (video.paused) { video.play().catch(error => {}); }
        }
        attemptPlay(); 
        document.addEventListener('touchstart', attemptPlay, { once: true });
        document.addEventListener('click', attemptPlay, { once: true });
        
        // JAVASCRIPT FOR MOBILE MENU TOGGLE 
        const menuToggle = document.querySelector('.menu-toggle');
        const navMenu = document.getElementById('nav-menu');

        menuToggle.addEventListener('click', () => {
            const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true' || false;
            menuToggle.setAttribute('aria-expanded', !isExpanded);
            navMenu.classList.toggle('active');
            menuToggle.classList.toggle('open'); 
        });


        // --- Smooth Scrolling & Menu Closing (Unified Logic) ---
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');

                if (href.startsWith('#') && href !== '#') {
                    // Prevent default anchor jump
                    e.preventDefault(); 
                    
                    // Check if the mobile menu is active/open
                    if (navMenu.classList.contains('active')) {
                        // 1. If mobile menu is open, close it first
                        navMenu.classList.remove('active');
                        menuToggle.setAttribute('aria-expanded', 'false');
                        menuToggle.classList.remove('open'); 
                        
                        // 2. Add a small delay for smooth menu closing before scrolling
                        setTimeout(() => {
                             document.querySelector(href).scrollIntoView({
                                behavior: 'smooth'
                            });
                        }, 50);
                    } else {
                        // **CRITICAL DESKTOP FIX:** If mobile menu is closed, scroll immediately
                        document.querySelector(href).scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });

        // DYNAMIC SHOW DATE GENERATOR (unaltered)
        function populateMonthlyShows() {
            const list = document.getElementById('monthly-shows');
            const venueLink = `<a href="https://adktla.com/" target="_blank" rel="noopener noreferrer">ADKT</a>`;
            const showTemplate = (dayName, dateNumber, monthName, headliner, venue) => `
                <article class="show-item">
                    <span class="show-date">${dayName}. ${monthName} ${dateNumber}</span>
                    <span class="show-headliner">${headliner}</span>
                    <span class="show-venue">${venue}</span>
                </article>
            `;
            
            const today = new Date();
            today.setHours(0, 0, 0, 0); 
            const now = new Date();
            const year = now.getFullYear();
            const month = now.getMonth();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const datesArray = [];
            const dayNames = ["SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT"];
            const monthNames = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"];

            for (let i = 1; i <= daysInMonth; i++) {
                const date = new Date(year, month, i);
                date.setHours(0, 0, 0, 0); 

                if (date.getDay() === 4 && date >= today) { 
                    datesArray.push({
                        day: dayNames[date.getDay()],
                        month: monthNames[date.getMonth()],
                        dateNum: date.getDate(),
                        headliner: "The Ice Gonzalez Quintet",
                        venue: venueLink 
                    });
                }
            }
            
            const nyeDate = new Date(year, 11, 31);
            nyeDate.setHours(0, 0, 0, 0);
            


            
            list.innerHTML = ''; 

            if (datesArray.length === 0) {
                   list.innerHTML = '<p style="text-align: center; font-style: italic; opacity: 0.7;">No upcoming shows this month. Check back soon!</p>';
            } else {
                   datesArray.forEach(show => {
                       list.innerHTML += showTemplate(show.day, show.dateNum, show.month, show.headliner, show.venue);
                   });
            }
        }
        populateMonthlyShows();
    </script>
</body>
</html>